# Firebase è¨­å®šæŒ‡å—

## ğŸ“‹ æ­¥é©Ÿ 1ï¼šå»ºç«‹ Firebase å°ˆæ¡ˆ

### 1.1 å‰å¾€ Firebase Console
1. è¨ªå•ï¼šhttps://console.firebase.google.com/
2. ä½¿ç”¨ Google å¸³è™Ÿç™»å…¥

### 1.2 å»ºç«‹æ–°å°ˆæ¡ˆ
1. é»æ“Šã€Œå»ºç«‹å°ˆæ¡ˆã€æˆ–ã€ŒAdd projectã€
2. è¼¸å…¥å°ˆæ¡ˆåç¨±ï¼ˆä¾‹å¦‚ï¼š`turtle-car-app`ï¼‰
3. é¸æ“‡æ˜¯å¦å•Ÿç”¨ Google Analyticsï¼ˆå¯é¸ï¼Œå»ºè­°å…ˆä¸å•Ÿç”¨ï¼‰
4. é»æ“Šã€Œå»ºç«‹å°ˆæ¡ˆã€
5. ç­‰å¾…å°ˆæ¡ˆå»ºç«‹å®Œæˆï¼ˆç´„ 30 ç§’ï¼‰

### 1.3 æ–°å¢ Web æ‡‰ç”¨ç¨‹å¼
1. åœ¨å°ˆæ¡ˆæ¦‚è¦½ä¸­é»æ“Šã€ŒWebã€åœ–æ¨™ï¼ˆ`</>`ï¼‰
2. è¼¸å…¥æ‡‰ç”¨ç¨‹å¼æš±ç¨±ï¼ˆä¾‹å¦‚ï¼š`Turtle Car Web`ï¼‰
3. å¯é¸ï¼šå‹¾é¸ã€Œä¹Ÿè¨­å®š Firebase Hostingã€
4. é»æ“Šã€Œè¨»å†Šæ‡‰ç”¨ç¨‹å¼ã€

### 1.4 å–å¾—é…ç½®å€¼
1. è¤‡è£½é¡¯ç¤ºçš„ Firebase é…ç½®å€¼
2. æˆ–é»æ“Šã€Œä½¿ç”¨ npmã€æŸ¥çœ‹å®Œæ•´é…ç½®
3. æ‚¨æœƒçœ‹åˆ°é¡ä¼¼ä»¥ä¸‹çš„é…ç½®ï¼š

```javascript
const firebaseConfig = {
  apiKey: "AIzaSyABC123...",
  authDomain: "your-project-id.firebaseapp.com",
  projectId: "your-project-id",
  storageBucket: "your-project-id.appspot.com",
  messagingSenderId: "123456789012",
  appId: "1:123456789012:web:abc123def456"
};
```

---

## ğŸ“‹ æ­¥é©Ÿ 2ï¼šå•Ÿç”¨ Firebase æœå‹™

### 2.1 å•Ÿç”¨ Authenticationï¼ˆèªè­‰ï¼‰
1. å·¦å´é¸å–® â†’ **Authentication** â†’ é»æ“Šã€Œé–‹å§‹ä½¿ç”¨ã€
2. åœ¨ã€Œç™»å…¥æ–¹æ³•ã€æ¨™ç±¤ä¸­ï¼š
   - é»æ“Šã€Œé›»å­éƒµä»¶/å¯†ç¢¼ã€â†’ å•Ÿç”¨ â†’ å„²å­˜
   - ï¼ˆå¯é¸ï¼‰é»æ“Šã€ŒåŒ¿åã€â†’ å•Ÿç”¨ â†’ å„²å­˜ï¼ˆç”¨æ–¼å¿«é€Ÿæ¸¬è©¦ï¼‰

### 2.2 å»ºç«‹ Firestore è³‡æ–™åº«
1. å·¦å´é¸å–® â†’ **Firestore Database** â†’ é»æ“Šã€Œå»ºç«‹è³‡æ–™åº«ã€
2. é¸æ“‡ã€Œä»¥æ¸¬è©¦æ¨¡å¼å•Ÿå‹•ã€ï¼ˆé–‹ç™¼ç”¨ï¼‰
3. é¸æ“‡å€åŸŸï¼ˆå»ºè­°ï¼š`asia-east1` æˆ– `asia-northeast1`ï¼‰
4. é»æ“Šã€Œå•Ÿç”¨ã€
5. ç­‰å¾…è³‡æ–™åº«å»ºç«‹å®Œæˆï¼ˆç´„ 30 ç§’ï¼‰

### 2.3 å•Ÿç”¨ Storageï¼ˆå¯é¸ï¼Œç›®å‰æœªä½¿ç”¨ï¼‰
1. å·¦å´é¸å–® â†’ **Storage** â†’ é»æ“Šã€Œé–‹å§‹ä½¿ç”¨ã€
2. é¸æ“‡å®‰å…¨è¦å‰‡ï¼ˆæ¸¬è©¦æ¨¡å¼ï¼‰
3. é¸æ“‡å€åŸŸï¼ˆèˆ‡ Firestore ç›¸åŒï¼‰
4. é»æ“Šã€Œå®Œæˆã€

---

## ğŸ“‹ æ­¥é©Ÿ 3ï¼šé…ç½® .env æª”æ¡ˆ

### æ–¹æ³• Aï¼šä½¿ç”¨è‡ªå‹•åŒ–è…³æœ¬ï¼ˆæ¨è–¦ï¼‰

1. åŸ·è¡Œè¨­å®šè…³æœ¬ï¼š
   ```batch
   setup-firebase-env.bat
   ```

2. è…³æœ¬æœƒï¼š
   - å¾ `env.example` å»ºç«‹ `.env` æª”æ¡ˆ
   - é–‹å•Ÿ `.env` æª”æ¡ˆä¾›ç·¨è¼¯

3. å¡«å…¥ Firebase é…ç½®å€¼ï¼š
   - å°‡å¾ Firebase Console å–å¾—çš„é…ç½®å€¼å¡«å…¥
   - æ ¼å¼ç¯„ä¾‹ï¼š

```env
# Firebase Configuration
VITE_FIREBASE_API_KEY=AIzaSyABC123...
VITE_FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project-id.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789012
VITE_FIREBASE_APP_ID=1:123456789012:web:abc123def456
```

### æ–¹æ³• Bï¼šæ‰‹å‹•å»ºç«‹

1. è¤‡è£½ç¯„ä¾‹æª”æ¡ˆï¼š
   ```batch
   copy env.example .env
   ```

2. ç·¨è¼¯ `.env` æª”æ¡ˆï¼š
   ```batch
   notepad .env
   ```

3. å¡«å…¥ Firebase é…ç½®å€¼ï¼ˆåŒæ–¹æ³• Aï¼‰

---

## ğŸ“‹ æ­¥é©Ÿ 4ï¼šé©—è­‰ Firebase é€£æ¥

### 4.1 åŸ·è¡Œé©—è­‰è…³æœ¬
```batch
verify-firebase.bat
```

è…³æœ¬æœƒæª¢æŸ¥ï¼š
- âœ… `.env` æª”æ¡ˆæ˜¯å¦å­˜åœ¨
- âœ… æ‰€æœ‰å¿…è¦çš„ Firebase é…ç½®å€¼æ˜¯å¦å·²è¨­å®š

### 4.2 å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
```batch
npm run dev
```

### 4.3 æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°
1. é–‹å•Ÿç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ï¼ˆF12ï¼‰
2. æŸ¥çœ‹ Console æ¨™ç±¤
3. æ‡‰è©²çœ‹åˆ°ï¼š
   - âœ… `Firebase åˆå§‹åŒ–æˆåŠŸ`
   - æˆ– âš ï¸ `Firebase ç’°å¢ƒè®Šæ•¸æœªæ­£ç¢ºè¨­å®š`

---

## ğŸ”§ ç–‘é›£æ’è§£

### å•é¡Œ 1ï¼šçœ‹åˆ°ã€ŒFirebase ç’°å¢ƒè®Šæ•¸æœªæ­£ç¢ºè¨­å®šã€
**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèª `.env` æª”æ¡ˆä¸­çš„æ‰€æœ‰å€¼éƒ½å·²æ­£ç¢ºå¡«å…¥
2. ç¢ºèªæ²’æœ‰å¤šé¤˜çš„å¼•è™Ÿæˆ–ç©ºæ ¼
3. ç¢ºèªç’°å¢ƒè®Šæ•¸åç¨±æ­£ç¢ºï¼ˆå¿…é ˆä»¥ `VITE_` é–‹é ­ï¼‰
4. é‡æ–°å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼ˆCtrl+C å¾Œé‡æ–°åŸ·è¡Œ `npm run dev`ï¼‰

### å•é¡Œ 2ï¼šç„¡æ³•é€£æ¥åˆ° Firebase
**è§£æ±ºæ–¹æ¡ˆï¼š**
1. æª¢æŸ¥ç¶²è·¯é€£æ¥
2. ç¢ºèª Firebase å°ˆæ¡ˆå·²æ­£ç¢ºå»ºç«‹
3. ç¢ºèª Firestore å’Œ Authentication å·²å•Ÿç”¨
4. æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°æ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯

### å•é¡Œ 3ï¼šFirestore æ¬Šé™éŒ¯èª¤
**è§£æ±ºæ–¹æ¡ˆï¼š**
1. ç¢ºèª Firestore å®‰å…¨è¦å‰‡å·²è¨­å®šï¼ˆåƒè€ƒ `firestore.rules`ï¼‰
2. åœ¨é–‹ç™¼éšæ®µï¼Œå¯ä»¥æš«æ™‚ä½¿ç”¨æ¸¬è©¦æ¨¡å¼ï¼š
   ```
   rules_version = '2';
   service cloud.firestore {
     match /databases/{database}/documents {
       match /{document=**} {
         allow read, write: if true;
       }
     }
   }
   ```
3. åœ¨ Firebase Console â†’ Firestore Database â†’ è¦å‰‡ ä¸­æ›´æ–°è¦å‰‡

---

## ğŸ“ é‡è¦æé†’

1. **`.env` æª”æ¡ˆä¸æ‡‰æäº¤åˆ° Git**
   - ç¢ºèª `.gitignore` åŒ…å« `.env`
   - åªæäº¤ `env.example` ä½œç‚ºç¯„æœ¬

2. **ç’°å¢ƒè®Šæ•¸æ ¼å¼**
   - å¿…é ˆä»¥ `VITE_` é–‹é ­æ‰èƒ½åœ¨ Vite ä¸­ä½¿ç”¨
   - ä¸è¦æœ‰å¼•è™Ÿï¼ˆé™¤éå€¼æœ¬èº«åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼‰
   - ä¸è¦æœ‰å¤šé¤˜çš„ç©ºæ ¼

3. **é‡æ–°å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨**
   - ä¿®æ”¹ `.env` å¾Œéœ€è¦é‡æ–°å•Ÿå‹• `npm run dev`
   - ç’°å¢ƒè®Šæ•¸åªåœ¨å•Ÿå‹•æ™‚è¼‰å…¥

4. **Firebase å®‰å…¨è¦å‰‡**
   - é–‹ç™¼éšæ®µå¯ä»¥ä½¿ç”¨æ¸¬è©¦æ¨¡å¼
   - æ­£å¼ç’°å¢ƒå‰å¿…é ˆè¨­å®šæ­£ç¢ºçš„å®‰å…¨è¦å‰‡
   - åƒè€ƒ `firestore.rules` æª”æ¡ˆ

---

## ğŸš€ ä¸‹ä¸€æ­¥

å®Œæˆ Firebase è¨­å®šå¾Œï¼Œæ‚¨å¯ä»¥ï¼š

1. **æ¸¬è©¦ç™»å…¥åŠŸèƒ½**
   - å»ºç«‹ç™»å…¥é é¢
   - æ¸¬è©¦ Firebase Authentication

2. **æ¸¬è©¦æé†’æäº¤**
   - ç¢ºèªå¯ä»¥å¯«å…¥ Firestore
   - æ¸¬è©¦è³‡æ–™çµæ§‹

3. **æ¸¬è©¦æ’è¡Œæ¦œ**
   - ç¢ºèªå¯ä»¥è®€å– Firestore
   - æ¸¬è©¦è³‡æ–™èšåˆ

---

## ğŸ“š ç›¸é—œè³‡æº

- [Firebase å®˜æ–¹æ–‡ä»¶](https://firebase.google.com/docs)
- [Firestore æ–‡ä»¶](https://firebase.google.com/docs/firestore)
- [Firebase Authentication æ–‡ä»¶](https://firebase.google.com/docs/auth)
- [Vite ç’°å¢ƒè®Šæ•¸æ–‡ä»¶](https://vitejs.dev/guide/env-and-mode.html)

