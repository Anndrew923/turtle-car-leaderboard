# 龜車排行榜 App - 腳本使用說明

## 📋 腳本概覽

本專案包含多個批次腳本，用於簡化開發環境的設置和啟動過程。

### 🚀 主要腳本

| 腳本名稱                 | 功能描述        | 使用時機               |
| ------------------------ | --------------- | ---------------------- |
| `setup-env.bat`          | 環境設置        | 首次使用或重新設置     |
| `start-dev.bat`          | 主啟動腳本      | 日常開發啟動           |
| `start-dev-chrome.bat`   | Chrome 開發模式 | 需要 Chrome 開發者工具 |
| `start-dev-manual.bat`   | 手動啟動模式    | 不想自動開啟瀏覽器     |
| `open-chrome-dev.bat`    | 僅開啟 Chrome   | 伺服器已運行時         |
| `comprehensive-test.bat` | 完整測試        | 驗證所有功能           |
| `quick-test.bat`         | 快速測試        | 快速檢查基本功能       |

## 🛠️ 使用流程

### 1. 首次設置

```batch
# 1. 雙擊執行環境設置
setup-env.bat

# 2. 等待環境設置完成
# 3. 按照提示進行下一步操作
```

### 2. 日常開發

```batch
# 方式一：使用主啟動腳本（推薦）
start-dev.bat

# 方式二：直接使用 npm
npm run dev
```

### 3. 測試驗證

```batch
# 快速測試
quick-test.bat

# 完整測試
comprehensive-test.bat
```

## 📖 詳細說明

### setup-env.bat - 環境設置腳本

**功能**：

- 檢查專案目錄結構
- 驗證 Node.js 環境
- 安裝依賴套件
- 檢查 TypeScript 配置
- 提供設置完成後的指引

**使用時機**：

- 首次克隆專案後
- 依賴套件有更新時
- 環境出現問題需要重新設置時

**執行結果**：

- ✅ 成功：顯示設置完成訊息和下一步指引
- ❌ 失敗：顯示錯誤訊息和解決建議

### start-dev.bat - 主啟動腳本

**功能**：

- 提供多種啟動模式選擇
- 自動檢查環境
- 調用相應的啟動腳本

**啟動模式**：

1. **自動開啟 Chrome 開發者模式**（推薦）

   - 自動開啟 Chrome
   - 自動開啟開發者工具
   - 視窗大小：1200x800
   - 最佳開發體驗

2. **手動開啟瀏覽器**

   - 啟動伺服器但不自動開啟瀏覽器
   - 手動在瀏覽器中訪問 http://localhost:3000

3. **僅啟動伺服器**

   - 只啟動開發伺服器
   - 不開啟任何瀏覽器

4. **使用 npm run dev**
   - 使用預設瀏覽器自動開啟

### start-dev-chrome.bat - Chrome 開發模式

**功能**：

- 自動檢測 Chrome 安裝路徑
- 啟動開發伺服器
- 自動開啟 Chrome 開發者模式
- 優化的開發體驗

**Chrome 參數**：

- `--new-window`：開啟新視窗
- `--window-size=1200,800`：設定視窗大小
- `--auto-open-devtools-for-tabs`：自動開啟開發者工具
- `--remote-debugging-port=9222`：遠端除錯端口

**執行流程**：

1. 檢查環境
2. 檢測 Chrome 路徑
3. 啟動開發伺服器（背景）
4. 等待伺服器啟動（5 秒）
5. 驗證伺服器狀態（2 秒）
6. 開啟 Chrome 開發者模式

### start-dev-manual.bat - 手動啟動模式

**功能**：

- 啟動開發伺服器
- 不自動開啟瀏覽器
- 提供手動訪問指引

**適用場景**：

- 不想自動開啟瀏覽器
- 使用其他瀏覽器
- 伺服器調試

### open-chrome-dev.bat - 僅開啟 Chrome

**功能**：

- 僅開啟 Chrome 開發者模式
- 不啟動開發伺服器
- 適用於伺服器已運行的情況

**使用時機**：

- 開發伺服器已在運行
- 只想重新開啟 Chrome
- 測試 Chrome 開發者工具

### comprehensive-test.bat - 完整測試

**功能**：

- 環境檢查
- Node.js 環境驗證
- TypeScript 編譯檢查
- Vite 構建測試
- 腳本功能驗證
- Chrome 檢測
- 專案結構檢查

**測試項目**：

1. ✅ 專案目錄檢查
2. ✅ Node.js 環境檢查
3. ✅ TypeScript 配置檢查
4. ✅ Vite 構建測試
5. ✅ 腳本存在性檢查
6. ✅ Chrome 安裝檢測
7. ✅ 專案結構驗證

### quick-test.bat - 快速測試

**功能**：

- 基本環境檢查
- TypeScript 編譯檢查
- Vite 構建測試
- 腳本存在性檢查

**適用場景**：

- 快速驗證基本功能
- 構建前檢查
- 日常驗證

## 🔧 故障排除

### 常見問題

#### 1. "node_modules 不存在"

**解決方案**：

```batch
# 執行環境設置
setup-env.bat
```

#### 2. "找不到 package.json"

**解決方案**：

- 確保在正確的專案目錄中執行腳本
- 檢查專案目錄結構

#### 3. "Chrome 未找到"

**解決方案**：

- 安裝 Google Chrome
- 或使用其他啟動模式（選項 2-4）

#### 4. "TypeScript 檢查有問題"

**解決方案**：

- 檢查 TypeScript 配置
- 修正 TypeScript 錯誤
- 或忽略警告繼續使用

#### 5. "Vite 構建失敗"

**解決方案**：

- 檢查 Vite 配置
- 檢查依賴套件
- 重新安裝依賴套件

### 錯誤代碼

| 錯誤代碼 | 描述          | 解決方案                   |
| -------- | ------------- | -------------------------- |
| 1        | 環境檢查失敗  | 執行 setup-env.bat         |
| 2        | 腳本不存在    | 檢查專案目錄               |
| 3        | Chrome 未找到 | 安裝 Chrome 或使用其他模式 |
| 4        | 構建失敗      | 檢查配置和依賴             |

## 💡 最佳實踐

### 開發流程建議

1. **首次使用**：

   ```batch
   setup-env.bat → start-dev.bat
   ```

2. **日常開發**：

   ```batch
   start-dev.bat → 選擇模式 1（Chrome 開發者模式）
   ```

3. **測試驗證**：

   ```batch
   quick-test.bat → comprehensive-test.bat
   ```

4. **問題排除**：
   ```batch
   comprehensive-test.bat → 根據結果修正問題
   ```

### 性能優化

- 使用 Chrome 開發者模式獲得最佳性能
- 定期執行測試腳本確保環境正常
- 保持依賴套件更新

### 安全注意事項

- 不要修改腳本中的路徑檢測邏輯
- 確保在正確的專案目錄中執行腳本
- 定期備份專案檔案

## 📞 支援

如果遇到問題：

1. 執行 `comprehensive-test.bat` 進行完整診斷
2. 檢查錯誤訊息和建議
3. 根據錯誤代碼查找解決方案
4. 重新執行 `setup-env.bat` 重新設置環境

## 🔄 更新日誌

### v1.0.0

- 初始版本
- 基本腳本功能
- Chrome 開發者模式支援
- 完整測試系統

---

**注意**：本說明文件會隨著專案更新而更新，請定期查看最新版本。

